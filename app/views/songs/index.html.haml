%p#notice= notice
- model_class = Song
.page-header
  %h1=t '.title', default: model_class.model_name.human.pluralize.titleize

=form_tag songs_path, :method => 'get' do
  %p
    =text_field_tag :search, params[:search], class: 'text_field'
    =submit_tag "Search", class: 'btn btn-default', :name => nil

%table.table.table-striped
  %thead
    %tr
      %th= model_class.human_attribute_name(:name)
      %th= model_class.human_attribute_name(:album_id)
      %th= model_class.human_attribute_name(:track)
      %th= model_class.human_attribute_name(:length)
      %th= model_class.human_attribute_name(:created_at)
      %th=t '.actions', default: t("helpers.actions")
  %tbody
    - @songs.each do |song|
      %tr
        %td= song.name
        %td= song.album.name
        %td= song.track
        %td= song.length
        %td=l song.created_at, format: :short
        %td
          = link_to song_path(song), class: 'btn btn-xs', title: "#{ t('.show', default: t('helpers.links.show')) }" do
            = glyph 'info-sign'
          = link_to edit_song_path(song), class: 'btn btn-xs', title: "#{ t('.edit', default: t('helpers.links.edit')) }" do
            = glyph 'pencil'
          = link_to song_path(song), method: :delete, data: { confirm: t('.confirm', default: t("helpers.links.confirm", default: 'Are you sure?')) }, class: 'btn btn-xs', title: "#{ t('.destroy', default: t('helpers.links.destroy')) }" do
            = glyph 'remove'
= link_to t('.new', default: t("helpers.links.new")), new_song_path, class: 'btn btn-default'
.centre
  = will_paginate @songs